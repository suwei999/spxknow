# Environment Variables Example

# Application Settings
APP_NAME=SPX Knowledge Base
APP_VERSION=1.0.0
DEBUG=false

# Server Settings
HOST=0.0.0.0
PORT=8000
ALLOWED_HOSTS=["*"]

# Database Settings
DATABASE_URL=mysql+pymysql://user:password@localhost:3306/spx_knowledge
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=user
MYSQL_PASSWORD=password
MYSQL_DATABASE=spx_knowledge

# Redis Settings
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# OpenSearch Settings
OPENSEARCH_URL=http://localhost:9200
OPENSEARCH_USERNAME=
OPENSEARCH_PASSWORD=

# MinIO Settings
MINIO_ENDPOINT=localhost:9000
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_BUCKET_NAME=spx-knowledge-base

# Ollama Settings
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2
OLLAMA_EMBEDDING_MODEL=nomic-embed-text

# Security Settings
SECRET_KEY=your-secret-key-here
ACCESS_TOKEN_EXPIRE_MINUTES=30

# File Upload Settings
MAX_FILE_SIZE=104857600  # 100MB
ALLOWED_FILE_TYPES=[".pdf", ".docx", ".txt", ".md", ".html"]

# QA系统配置
QA_DEFAULT_PAGE_SIZE=20
QA_MAX_PAGE_SIZE=100
QA_DEFAULT_SIMILARITY_THRESHOLD=0.7
QA_DEFAULT_MAX_SOURCES=10
QA_DEFAULT_MAX_HISTORY=5
QA_DEFAULT_MAX_RESULTS=10

# 多模态处理配置
MULTIMODAL_TEXT_MAX_LENGTH=10000
MULTIMODAL_IMAGE_MAX_SIZE_MB=10
MULTIMODAL_IMAGE_MAX_DIMENSION=1024
MULTIMODAL_MAX_KEYWORDS=10
MULTIMODAL_DEFAULT_FUSION_SCORE=0.8
MULTIMODAL_DEFAULT_SEMANTIC_SIMILARITY=0.7
MULTIMODAL_DEFAULT_RELEVANCE_SCORE=0.7
MULTIMODAL_DEFAULT_CONSISTENCY_SCORE=0.8

# 降级策略配置
FALLBACK_HIGH_RELEVANCE_THRESHOLD=0.8
FALLBACK_MEDIUM_RELEVANCE_THRESHOLD=0.5
FALLBACK_LOW_RELEVANCE_THRESHOLD=0.3
FALLBACK_SIMILARITY_WEIGHT=0.4
FALLBACK_MATCH_WEIGHT=0.3
FALLBACK_COMPLETENESS_WEIGHT=0.2
FALLBACK_ACCURACY_WEIGHT=0.1

# 历史存储配置
QA_HISTORY_INDEX_NAME=qa_history
QA_HISTORY_CLEANUP_DAYS=90
QA_HISTORY_DEFAULT_PAGE_SIZE=20
QA_HISTORY_MAX_PAGE_SIZE=100

# 向量维度配置
TEXT_EMBEDDING_DIMENSION=768
IMAGE_EMBEDDING_DIMENSION=512

# 实体识别配置
ENTITY_PERSON_CONFIDENCE=0.8
ENTITY_PLACE_CONFIDENCE=0.7

# 意图识别配置
INTENT_FACTUAL_CONFIDENCE=0.8
INTENT_OPERATION_CONFIDENCE=0.8
INTENT_COMPARISON_CONFIDENCE=0.7
INTENT_DEFAULT_CONFIDENCE=0.5

# 图片搜索配置
IMAGE_SEARCH_DEFAULT_CONFIDENCE=0.8
IMAGE_SEARCH_MULTIMODAL_CONFIDENCE=0.7
IMAGE_SEARCH_DEFAULT_CONFIDENCE_FALLBACK=0.5

# 内容预览配置
CONTENT_PREVIEW_LENGTH=100

# 批量操作配置
MAX_BATCH_OPERATION_SIZE=10

# 内容验证配置
MAX_NEWLINE_RATIO=0.5
MAX_SPECIAL_CHAR_RATIO=0.1
MIN_CHINESE_RATIO=0.3
MIN_ENGLISH_RATIO=0.3

# 降级策略置信度调整
FALLBACK_CONFIDENCE_BOOST=0.2
FALLBACK_DEFAULT_CONFIDENCE=0.5

# 文件验证配置
FILE_HEADER_READ_SIZE=1024

# ClamAV配置
CLAMAV_ENABLED=true
CLAMAV_SOCKET_PATH=
CLAMAV_TCP_HOST=localhost
CLAMAV_TCP_PORT=3310
CLAMAV_SCAN_TIMEOUT=60
CLAMAV_USE_TCP=false

# 远程ClamAV配置示例
# CLAMAV_ENABLED=true
# CLAMAV_SOCKET_PATH=
# CLAMAV_TCP_HOST=10.0.0.100
# CLAMAV_TCP_PORT=3310
# CLAMAV_USE_TCP=true

# 文档处理配置
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
MAX_CHUNKS_PER_DOCUMENT=1000
PARSING_TIMEOUT=300
VECTORIZATION_TIMEOUT=600
OLLAMA_TIMEOUT=300

# Unstructured配置
UNSTRUCTURED_PDF_STRATEGY=hi_res
UNSTRUCTURED_PDF_OCR_LANGUAGES=["eng","chi_sim"]
UNSTRUCTURED_PDF_EXTRACT_IMAGES=true
UNSTRUCTURED_PDF_IMAGE_TYPES=["Image","Table"]
UNSTRUCTURED_DOCX_STRATEGY=fast
UNSTRUCTURED_DOCX_EXTRACT_IMAGES=true
UNSTRUCTURED_PPTX_STRATEGY=fast
UNSTRUCTURED_PPTX_EXTRACT_IMAGES=true
UNSTRUCTURED_HTML_STRATEGY=fast
UNSTRUCTURED_HTML_EXTRACT_IMAGES=true
UNSTRUCTURED_TXT_ENCODING=utf-8

# 缓存配置
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE=1000
CACHE_CLEANUP_INTERVAL=300

# 日志配置
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_FILE=logs/app.log

# 环境配置
ENVIRONMENT=development
