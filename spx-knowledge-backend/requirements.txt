# Web Framework
fastapi>=0.100.0
uvicorn[standard]>=0.20.0

# Database
sqlalchemy>=2.0.0
pymysql>=1.0.0
alembic>=1.12.0

# Cache
redis>=4.5.0

# Search Engine
opensearch-py>=2.0.0

# Object Storage
minio>=7.1.0

# Task Queue
celery>=5.3.0

# LLM Integration
ollama>=0.1.0

# Document Processing
pdfplumber>=0.11.0
PyMuPDF>=1.23.0
camelot-py==0.10.1
PyPDF2<3.0.0
pypdf>=4.0.0
ghostscript>=0.7
unstructured>=0.10.0
openpyxl>=3.1.0
pandas>=2.0.0
xlrd>=2.0.0
python-docx>=1.1.0
python-pptx>=1.0.0
beautifulsoup4>=4.12.0
lxml>=4.9.0

# Data Validation
pydantic>=2.0.0
pydantic-settings>=2.0.0

# File Upload
python-multipart>=0.0.6

# Security
python-jose[cryptography]>=3.3.0
passlib[bcrypt]>=1.7.4
bcrypt>=4.0.0
cryptography>=41.0.0

# Image Processing
pillow>=10.0.0
opencv-python>=4.8.0

# OCR
pytesseract>=0.3.10
easyocr>=1.7.0

# NumPy 1.x (torchvision 编译时基于 NumPy 1.x，NumPy 2.x 不兼容)
numpy<2.0,>=1.21.0

# Computer Vision Models
# 方案A（CPU-only，默认启用）
#torch==2.3.1+cpu
#torchaudio==2.3.1+cpu
#torchvision==0.18.1+cpu
#open-clip-torch>=2.24.0

# 方案B（GPU，CUDA 12.1）
# 如服务器具备 NVIDIA GPU 且已安装 CUDA 12.1，对应启用以下依赖并注释掉方案A三行：
# --index-url https://download.pytorch.org/whl/cu121
# torch==2.3.1+cu121
# torchaudio==2.3.1+cu121
# torchvision==0.18.1+cu121

# File Type Detection
# filetype 是纯 Python 实现，跨平台，无需依赖
filetype>=1.2.0
# python-magic 需要系统库支持，可选
python-magic>=0.4.27

# Antivirus Scanning (optional; requires ClamAV service)
clamd>=1.0.2
python-clamd>=1.2.0

# HTTP Client
requests>=2.31.0
httpx>=0.24.0

# Utilities
python-dotenv>=1.0.0
pytz>=2023.3
charset-normalizer>=3.2.0

# Markdown Processing
mistune>=3.0.0

# Transformers and related ML libraries
# transformers 4.40.0+ 引入了 EncoderDecoderCache，但需要 4.44.0+ 才稳定
transformers>=4.44.0

# Rerank Model
# FlagEmbedding 依赖 sentence-transformers 和 peft，需要兼容的版本
sentence-transformers>=2.7.0
peft>=0.10.0
FlagEmbedding>=1.2.0

# Testing Framework
pytest>=7.0.0
pytest-asyncio>=0.21.0
pytest-cov>=4.0.0
pytest-mock>=3.11.0
pytest-xdist>=3.3.0

# Test Data
factory-boy>=3.3.0
faker>=19.3.0

# HTTP Testing
requests-mock>=1.11.0

# Database Testing
pytest-mysql>=2.1.0
pytest-redis>=3.0.0

# Code Quality
black>=23.0.0
isort>=5.12.0
flake8>=6.0.0
mypy>=1.0.0
pre-commit>=3.3.0

# Development Tools
ipython>=8.14.0
jupyter>=1.0.0
debugpy>=1.6.0

# Documentation
mkdocs>=1.5.0
mkdocs-material>=9.2.0
mkdocs-mermaid2-plugin>=1.1.0
mkdocs-swagger-ui-tag>=0.6.0
mkdocs-redirects>=1.2.0

# Production Server
gunicorn>=21.2.0

# Monitoring
sentry-sdk[fastapi]>=1.32.0
prometheus-client>=0.17.0

# Performance
psutil>=5.9.0
